<!DOCTYPE html>
<html>
<!--
/* This program is free software. It comes without any warranty, to
     * the extent permitted by applicable law. You can redistribute it
     * and/or modify it under the terms of the Do What The Fuck You Want
     * To Public License, Version 2, as published by Sam Hocevar. See
     * http://www.wtfpl.net/ for more details. */
-->

<head>	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>ECEF Path Generator</title>
	<!-- link rel="stylesheet" href="ecef.css" type="text/css" media="screen"-->
	<!-- script type="text/javascript" src="raphael.min.js"></script -->  
	
	<script src="https://unpkg.com/raphael@2.3.0/raphael.min.js" crossorigin=""></script>
	
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.0/dist/leaflet.css" dintegrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" dintegrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
	<!-- -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style type="text/css">
* {box-sizing: border-box;padding: 0;margin: 0;}* {-khtml-user-select: none;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;-o-user-select: none;user-select: none;}body {background: #fff;padding: 1px;}.row::after {content: "";clear: both;display: table;}[class*="col-"] {float: left;padding: 15px;}html {font-family: "Lucida Sans", sans-serif;}ul {list-style-type: none;margin: 0;padding: 0;}#gadgets li{margin-bottom: 15px;font-size:14px;text-align:right }.menus li {padding: 8px;margin-bottom: 7px;background-color: #33b5e5;color: #ffffff;box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);text-align:center;}.menus li:hover {background-color: #0099cc;}.aside {background-color: #33b5e5;padding: 15px;color: #ffffff;text-align: center;font-size: 14px;box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);}#speed-panel {text-align:left;margin:0;}@media only screen and (min-width: 600px) {.col-s-1 {width: 8.33%;}.col-s-2 {width: 16.66%;}.col-s-3 {width: 25%;}.col-s-4 {width: 33.33%;}.col-s-5 {width: 41.66%;}.col-s-6 {width: 50%;}.col-s-7 {width: 58.33%;}.col-s-8 {width: 66.66%;}.col-s-9 {width: 75%;}.col-s-10 {width: 83.33%;}.col-s-11 {width: 91.66%;}.col-s-12 {width: 100%;}}@media only screen and (min-width: 768px) {.col-1 {width: 8.33%;}.col-2 {width: 16.66%;}.col-3 {width: 25%;}.col-4 {width: 33.33%;}.col-5 {width: 41.66%;}.col-6 {width: 50%;}.col-7 {width: 58.33%;}.col-8 {width: 66.66%;}.col-9 {width: 75%;}.col-10 {width: 83.33%;}.col-11 {width: 91.66%;}.col-12 {width: 100%;}}#canvasContainer {width:100%;border:1px solid black;position:relative;}#canvas {width:100%;position:absolute;z-index:80;}#map {width:100%;position:absolute;z-index:10;}#sbar{margin:5px;height:24px;padding:1px;}div.cntBotton{margin:10px 0;line-height:37px;text-align:center;background-color: #33b5e5;color: #ffffff;font-size:18px;}div.cntBotton:hover{background-color: #00ffff;font-weight:bold;}.clear{clear:both;}.fLeft{float:left;}.fRight{float:right;}#speed{color:#0066cc;}#distance {color:#00b300;}#altitude{color: #e8ef13;}.font1{font-size: 25px;}input[type="file"] {display: none;}.custom-btn {border: 1px solid #0066cc;display: inline-block;width:100%;text-align:center;padding: 10px 12px;cursor: pointer;}.custom-btn:hover {background-color: #00ffff;}.slider {-moz-appearance: none;-webkit-appearance: none;width: 100%;height: 5px;background: #d3d3d3;outline: none;opacity: 0.7;-webkit-transition: .2s;transition: opacity .2s;margin:0px;}.slider:hover {opacity: 2;}.slider::-webkit-slider-thumb {-moz-appearance: none;-webkit-appearance: none;appearance: none;width: 25px;height: 25px;background: #0066cc;cursor: pointer;}.slider::-moz-range-thumb {width: 25px;height: 25px;background: #0066cc;cursor: pointer;}#dim {position:fixed;top: 0;left: 0;width: 100%;height:200em;background: #a1a1a1;z-index: 1000;opacity:0.40;display:none;}#pop_wrapper {position:fixed;width: 100%;height:0;top:0;left:0;visibility:hidden;-webkit-transition: opacity 0.7s;-moz-transition: opacity 0.7s;-ms-transition: opacity 0.7s;-o-transition: opacity 0.7s;transition: opacity 0.7s;z-index:1001;text-align: center;}#pop_up {position: relative;display: inline-block;background:#ffffff;border-radius: 5px;}#pop_up_content {padding:20px;overflow-y:auto;max-height:600px;}#pop_up_header {background:#4c9df1;line-height:20px;text-align:left;padding:5px;color:#fff;}#popup_content {padding:5px;}#popup_content > div {display:none;}#closePopUp {float:right;margin-right:4px;font-size:16px;font-weight:bold;cursor:default;}.abcr td{padding:3px;}.tleft{text-align:right;}.tright{text-align:left;}.flex-container {display: flex;justify-content: space-around;}.divRow{display:table-row;}.divCell{display:table-row;}#squareList{list-style-position: inside;list-style-type: square;}#squareList li{padding:10px;}#docList{list-style-position: inside;list-style-type: initial;}#docList li{padding:10px;}#docList ul{list-style-position: inside;list-style-type: circle;}
</style>

</head>
<body>

<!-- ####################################################-->

<div id="dim"></div>
<div id="pop_wrapper">
	<div id="pop_up">
		<div id="pop_up_header">
			<span id="popup_title"></span>
 			<span id="closePopUp">&times;</span>
 			<div style="clear:both;"></div>
 		</div>
 		<div id="popup_content">
			<div id="ecef">
				<table class="abcr">
					<tr>
						<td class="tleft">Frequency:</td>
						<td class="tright">
							<input type="text" id="frequency" maxlength="4" size="4">Hz
						</td>
					</tr>
					<tr>
						<td class="tleft">Save as:</td>
						<td><input type="text" id="fileName"></td>
					</tr>
				</table>
				<button id="ecefButton">Download</button>
			</div>
			
			<div id="wait22">
				<img src="waiting.gif" alt="Processing data, please wait..."/>
			</div>
			<div id="rawData">
				<div id="form2">
				Save as: <input type="text" id="fileNameR"><br/>
				<button id="rawDataButton">Download</button>
				</div>
			</div>
			<div id="gpxData">
				<div id="form2">
				GPX file name: <input type="text" id="gpxNameR"><br/>
				Description: <input type="text" id="gpxDesc"><br/>
				<button id="gpxDataButton">Download</button>
				</div>
			</div>
			<div id="configuration">
				<fieldset>
					<legend>Location:</legend>
					<table class="abcr">
						<tr>
							<td class="tleft">Latitude:</td>
							<td><input type="text" id="latitude" maxlength="10" size="10" value="53.2672"></td>
						</tr>
						<tr>
							<td class="tleft">Longitude:</td>
							<td><input type="text" id="longitude" maxlength="10" size="10" value="-1.63"></td>
						</tr>
						<tr>
							<td colspan="2" style="text-align:right;">
								<button id="locationButton">Set location</button>
							</td>
						</tr>
					</table>
				</fieldset>

				<fieldset>
					<legend>Colour:</legend>
					<table class="abcr">
						<tr>
							<td class="tleft">Trail:</td>
							<td><input type="text" id="trail_colour" maxlength="7" size="7"></td>
						</tr>
							<td class="tleft">Mover:</td>
							<td><input type="text" id="mover_colour" maxlength="7" size="7"></td>
						</tr>
						<tr>
							<td></td>
							<td><button id="coloursButton">Change</button></td>
						</tr>
					</table>
				</fieldset>
			</div>
			<div id="description" style="width:800px; padding:10px;text-align:justify; font-size:1em;overflow-y:scroll; max-height:300px">
			<p>
			This is an application that generates ECEF coordinates from a drawn path on a map.
			The data generated can be used to generate GPS signal files for applications that
			simulate GPS signal <a href="https://github.com/osqzss/gps-sdr-sim" target="_blank">gps-sdr-sim</a>
			</p>
			
			<br/>
			<h4>Quick start:</h4>
			<ul id="squareList">
				<li>
					Click "More Actions", select Settings, input the desire latitude, longitude and altitude
					where the map will be centered and adjust the Zoom.
				</li>
				<li>
					Over the map, draw a path using the mouse while pressing the left button, if it is needed
					you can delete the last points drawn with the button Remove.
				</li>
				<li>
					Adjust the initial speed using the bar below the map.
				</li>
				<li>
					Adjust the initial time elapsed. At x1 this means that the mover will take 15 seconds
					on a 1 kilometre path at 240 km/hr, at x2 it will take 7.5 (of real time), 
					at x4 3.75 sec (of real time) and so on. This will not affect the recording.
				</li>
				<li>
					Click "Recorder / Player", click Record, a blue point will start moving along the 
					drawn path. You can modify the speed as you wish.
				</li>
				<li>
					After finishes the recording, you can see the result by pressing the Play button.
				</li>
			</ul><br/>
			<h4>Documentation</h4>
			<ul id="docList">
				<li>Recorder / Player
					<ul>
						<li><i>Record</i> starts to record the position and speed of the mover. Once the recording
						has finished, speed can not be change. However it can be reset.</li>
						<li><i>Reset</i> reset the path ready to be recorded again from the beginning. Speed is override.</li>
						<li><i>Delete</i> delete the current path.</li>
						<li><i>Remove</i> as far as the path have not been recorded, clicking remove will remove
						 the last point of the path, click it as needed to remove the many point.</li>
					</ul>
				</li>
				<li>More Actions
					<ul>
						<li><i>Settings</i> here you can set the latitude, longitude, altitude, zoom and colour for the path and mover.</li>
						<li><i>Export to ECEF</i> after recording, you can download the path in ECEF 
						coordinates, you will need to input the frequency in Hertz for the 
						sample data. To use with <a href="https://github.com/osqzss/gps-sdr-sim" target="_blank">gps-sdr-sim</a> the sampling rate of the user motion has to be 10Hz.</li> 
						<li><i>Download data</i> this allows you to download the raw data a path was recorded, so you can import it later to play it, reset and change the speed and generate a different ECEF coordinate file.</li>
					</ul>
				</li>
			</ul>
			<br/>
			<h4>Download</h4>
			<p>
			You can download this application from <a href="https://github.com/fpdf-easytable/ECEF_path_generator">here</a>.
			</p>
 			</div>
 		</div>
 	</div>
</div>

<!-- ####################################################-->

<div class="row">
	<div class="col-2 col-s-2 rightBlock">
		<div id="left_pannel" style="overflow-x: hidden;overflow-y: auto; padding-right: 10px;">
		<ul id="gadgets">
			<li>
				<div>Speed</div>
				<div class="font1" id="speed" style="display:inline;">0.00</div>
				<div style="display:inline;">km/h</div>
			</li>
			<li>
				<div>Total Distance</div>
				<div class="font1" id="Tdistance" style="display:inline;">0.00</div>
				<div style="display:inline;">km</div>
			</li>
			<li>
				<div>Distance</div>
				<div class="font1" id="distance" style="display:inline;">0.00</div>
				<div style="display:inline;">km</div>
			</li>
			<li>
				<div>Altitude</div>
				<div class="font1" id="altitude" style="display:inline;">0.00</div>
				<div style="display:inline;">mt</div>
			</li>
			<li>
				<div>Time</div>
				<div class="font1" id="elapsedtime" style="display:inline;">0.00</div>
				<div style="display:inline;">secs</div>
			</li>
		</ul>

		<!-- ############################################ -->

		<div style="display:table;padding:1px; dborder:1px solid; width:100%;">
			<div style="display:table-row;">
				<div style="margin-top:0px;">
					<input id="recordButton" type="button" style="width:100%;" value="Record">
					<input id="recordingButton" type="button" disabled="disable" style="width:100%;display:none;" value="Recording">
					<input id="playButton" type="button" style="width:100%;display:none;" value="Play">
					<input id="pauseButton" type="button" style="width:100%;display:none;margin-right: 3px;" value="Pause">
				</div>
			</div>
			<div style="display:table-row;">
				<div style="margin-top:6px;">
					<input id="resetButton" type="button" style="width:45%;display:table-cell;margin-right:3px;" value="Reset">
					<input id="eraseButton" type="button" style="float:right;width:45%;display:table-cell;margin-right:3px;" value="Remove">
				</div>
			</div>

			<div style="display:table-row;">
				<div style="margin-top:6px;">
					<button id="appendButton" type="button" style="width:45%;display:table-cell;margin-right:3px;">Append</button>
					<button id="deletButton" type="button" style="float:right;display:table-cell;margin-right: 3px; padding: 1px 3px;">Delete</button>
				</div>
			</div>

			<div style="display:table-row;">

				<div style="display: inline-block;">
					<div style="font-size: 12px;margin-top:6px;">Time Elapsed</div>
					<button id="time_speed_less" type="button" style="margin-right: 1px; padding: 1px 7px;">-</button>
					<div id="x_time" style="font-size:12px; display:inline;padding: 5px;">x1</div>
					<button id="time_speed_more" type="button" style="margin-right: 10px; padding: 1px 5px;">+</button>
				</div>
				
			</div>

			<div style="display:table-row;">
				<div style="display: inline-block;">
					<div style="font-size: 12px;margin-top:6px;">Zoom</div>
					<button id="zoom_less" type="button" style="margin-right: 5px; padding: 1px 7px;">-</button>
					<button id="zoom_more" type="button" style="margin-right: 10px; padding: 1px 5px;">+</button>
				</div>
				
				<button id="moveToBtn" style="padding:1px 3px">Set View</button>
			</div>

			<div style="display:table-row;">
				<div style="margin-top:6px;">
					<input id="export" type="button" style="width:100%;" value="Export to ECEF"/>
					<input id="exportData" type="button" style="width:100%;margin-top: 5px;" value="Download data"/>
					<input id="exportGPX" type="button" style="width:100%;margin-top: 5px;" value="Download GPX"/>
					<button style="width:100%;margin-top: 5px;">
						<label for="upload">
							<div >Import data</div>
						</label>
						<input id="upload" type="file"/>	
					</button>
					<input id="settings" type="button" style="width:100%;margin-top: 5px;" value="Settings"/>					
					<input id="whatisit" type="button" style="width:100%;margin-top: 5px;" value="What is it?"/>
				</div>
			</div>
		</div>

		<!-- ############################################ -->

 		</div>
 	</div>

	<div id="container" class="col-s-10" style="padding:0px;">
		<div id="canvasContainer">
			<div id="canvas"></div>
			<div id="map"></div>
		</div>
		<div id="speed-panel">
		</div>
	</div>
</div>

</body>


<script type="text/javascript" src="ecef_path_generator.js"></script>

<!-- script type="text/javascript">

</script-->

 

</html>
